/* styles/image-effects.css */

/* Animate a percentage custom prop for the mask sweep */
@property --r {
  syntax: '<percentage>';
  inherits: false;
  initial-value: 0%;
}

.smart-img {
  position: relative;
  overflow: hidden;        /* keeps rounded corners clean */
  will-change: transform, opacity, filter;
  backface-visibility: hidden;
  transform: translateZ(0); /* GPU nudge */
}

/* Base Image: fill container by default */
.smart-img > span,       /* next/image wrapper */
.smart-img img {
  display: block;
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* Effect: subtle fade+rise */
.img-fade {
  opacity: 0;
  transform: translateY(8px);
}
.img-fade.is-visible {
  transition: opacity .5s ease-out, transform .5s ease-out;
  opacity: 1;
  transform: translateY(0);
}

/* Effect: gentle zoom-in */
.img-zoom {
  opacity: 0;
  transform: scale(1.04);
  filter: saturate(0.9);
}
.img-zoom.is-visible {
  transition: opacity .6s ease-out, transform .6s ease-out, filter .6s ease-out;
  opacity: 1;
  transform: scale(1);
  filter: saturate(1);
}

/* Optional hover lift for desktop */
@media (hover:hover) and (pointer:fine) {
  .img-hoverScale:hover {
    transform: translateZ(0) scale(1.02);
  }
  .img-hoverScale {
    transition: transform .35s ease-out;
  }
}

/* Effect: leftâ†’right reveal using a CSS mask */
.img-reveal {
  /* Start fully hidden, reveal via mask sweep */
  -webkit-mask-image: linear-gradient(90deg, #000 0 var(--r), transparent var(--r) 100%);
          mask-image: linear-gradient(90deg, #000 0 var(--r), transparent var(--r) 100%);
  -webkit-mask-size: 100% 100%;
          mask-size: 100% 100%;
  opacity: 0.001;                 /* paint hack */
  transform: translateY(8px) scale(1.01);
}
.img-reveal.is-visible {
  animation:
    imgSweep 1.1s ease-out forwards,
    imgPop   .42s ease-out forwards;
}
@keyframes imgSweep { to { --r: 100%; } }
@keyframes imgPop   { to { opacity: 1; transform: translateY(0) scale(1); } }
